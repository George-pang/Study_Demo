<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>v-for的key属性</title>
    <script src="vue.js"></script>
</head>
<body>
    <div id="app">
        <label>
            ID为：<input type="text" v-model="id"/>
        </label>
        <label>
            name为：<input type="text" v-model="name"/>
        </label>
        <input type="button" value="尾部添加" @click="add"/>
        <input type="button" value="起始添加" @click="preAdd">

        <!-- 注意： v-for 循环的时候，key 属性只能使用 number或者string -->
        <!-- 注意： key 在使用的时候，必须使用 v-bind 属性绑定的形式，指定 key 的值 -->
        <!-- 在组件中，使用v-for循环的时候，或者在一些特殊情况中，如果 v-for 有问题，必须 在使用 v-for 的同时，指定 唯一的 字符串/数字 类型 :key 值 -->

        <!--本例中的问题：如果不加key属性,当你勾选中第5个时，在头部添加，不会随勾选的那个顺序下移，而是永远勾选的第5个-->
        <p v-for="(item,i) in list" :key="item.id"><input type="checkbox" name="" id="">索引为：{{ i }}---id为：{{ item.id }}----name为：{{ item.name }} </p>
    </div>

    <script>
        var vm=new Vue({
            el:"#app",
            data:{
                id:"",
                name:"",
                list:[
                    {id:1,name:"嬴政"},
                    {id:2,name:"赵高"},
                    {id:3,name:"李斯"},
                    {id:4,name:"胡亥"},
                    {id:5,name:"吕不韦"},
                    {id:6,name:"扶苏"},
                    {id:7,name:"蒙恬"},
                ]
            },
            methods:{
                add(){
                    this.list.push({id: this.id, name: this.name});             //this指当前的Vue实例 vm
                    this.id="";
                    this.name="";
                },
                preAdd(){
                    this.list.unshift({id:this.id,name:this.name});
                    this.id="";
                    this.name="";
                }
            }
        })
    </script>
</body>
</html>